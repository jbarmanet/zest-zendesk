"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getAppSettings = void 0;
const createApp_1 = require("./createApp");
const getAppSettings = async (manifest, configParams) => {
    if (!manifest.parameters)
        return {};
    const configContainsParam = (paramName) => Object.keys(configParams).includes(paramName);
    const paramsNotInConfig = manifest.parameters.filter(param => !configContainsParam(param.name));
    const configSettings = manifest.parameters.reduce((result, param) => {
        if (configContainsParam(param.name)) {
            result[param.name] = configParams[param.name];
        }
        return result;
    }, {});
    const promptSettings = paramsNotInConfig ? await (0, createApp_1.promptAndGetSettings)(paramsNotInConfig, manifest.name, false) : {};
    return Object.assign(Object.assign({}, configSettings), promptSettings);
};
exports.getAppSettings = getAppSettings;
