"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const createApp = require("./createApp");
const test_1 = require("@oclif/test");
const zcli_core_1 = require("@zendesk/zcli-core");
const manifest = require("../utils/manifest");
describe('deployApp', () => {
    test_1.test
        .stub(zcli_core_1.request, 'requestAPI', () => Promise.resolve({ status: 200, data: { job_id: 123 } }))
        .it('should return a job_id', async () => {
        (0, test_1.expect)(await createApp.deployApp('POST', 'api/v2/apps.json', 123, 'awesomeName')).to.deep.equal({ job_id: 123 });
    });
});
describe('getManifestAppName', () => {
    let appPathSpy;
    test_1.test
        .stub(manifest, 'getManifestFile', (...args) => {
        appPathSpy = args[0];
        return { name: 'henry' };
    })
        .it('should return the manifest app name', () => {
        (0, test_1.expect)(createApp.getManifestAppName('awesomeApp')).to.equal('henry');
        (0, test_1.expect)(appPathSpy).to.equal('awesomeApp');
    });
});
